pathes:
  itamae_root: /var/deploy
  cookbooks_root: /var/deploy/cookbooks
  roles_root: /var/deploy/roles

#roles:
#  - front
#  - web
#  - app
#  - db

# Nginx settings
nginx_common:
  source_list: /etc/apt/sources.list.d/nginx.list
  preference: /etc/apt/preferences.d/nginx 
  worker_processes: 2
  max_fails: 3
  fail_timeout: 30s

nginx_front:
  conf: /etc/nginx/conf.d/lb.conf
  listen: 80
  server_names:
    - 192.168.1.20

nginx_web:
  default_conf: /etc/nginx/conf.d/default.conf
  unicorn_conf: /etc/nginx/conf.d/unicorn.conf
  listen: 1080
  server_names:
    - 192.168.1.21
    - 192.168.1.22

# Postgresql settings
pgsql:
  user: hachiya
  password: G8BrneBL
  source_list: /etc/apt/sources.list.d/pgdg.list
  hba_conf: /etc/postgresql/9.5/main/pg_hba.conf
  postgresql_conf: /etc/postgresql/9.5/main/postgresql.conf
  server_names:
    - 192.168.1.40

# rbenv settings
rbenv:
  dirs:
    root: /usr/local/rbenv
    plugins: /usr/local/rbenv/plugins
    ruby-build: /usr/local/rbenv/plugins/ruby-build
  script: /etc/profile.d/rbenv.sh
  version: 2.3.1
  global: 2.3.1
  gems:
    - bundler

# Rails settins
rails:
  app_root: /var/app
  gemfile: /var/app/Gemfile
  vendor_bin_path: /var/app/vendor/bundle/ruby/2.3.0/bin
  env: production
  rails_database_password: <%= ENV['RAILS_DATABASE_PASSWORD'] %>
  unicorn:
    user: vagrant
    file: /var/app/config/unicorn.rb
    script: /etc/init.d/unicorn
    listen: /tmp/unicorn.sock
    pid_file: /var/app/tmp/pids/unicorn.pid
    config_file: /var/app/config/unicorn.rb
    stdout_log: /var/app/log/unicorn.stdout.log
    stderr_log: /var/app/log/unicorn.stderr.log
    worker_processes: 2
    timeout: 60
    preload_app: true
  database:
    file: /var/app/config/database.yml
    adapter: postgresql
    encoding: unicode
    pool: 5
    name: app_production
    user: hachiya
    host: 192.168.1.40
    port: 5432
    password: G8BrneGL
